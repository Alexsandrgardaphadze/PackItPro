<!-- Views/SummaryPanel.xaml -->
<UserControl x:Class="PackItPro.Views.SummaryPanel"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="400">

    <Border Background="{StaticResource AppPanelColor}" 
            CornerRadius="12" 
            Padding="20"
            BorderBrush="{StaticResource AppBorderColor}"
            BorderThickness="1">

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Header with Icon -->
            <Grid Grid.Row="0" Margin="0,0,0,15">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0"
                          Text="📊" 
                          FontSize="18" 
                          Margin="0,0,8,0"
                          VerticalAlignment="Center"/>
                <TextBlock Grid.Column="1"
                          Text="Package Summary" 
                          FontSize="16" 
                          Foreground="{StaticResource AppTextColor}" 
                          FontWeight="SemiBold"
                          FontFamily="Segoe UI"
                          VerticalAlignment="Center"/>
            </Grid>

            <!-- Summary Content - DYNAMIC BINDINGS -->
            <StackPanel Grid.Row="1">
                <!-- Total Files - Highlighted Card -->
                <Border Background="{StaticResource AppCardColor}"
                       CornerRadius="8"
                       Padding="14"
                       Margin="0,0,0,10"
                       BorderBrush="{StaticResource AppBorderColor}"
                       BorderThickness="1">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid Grid.Column="0" Margin="0,0,10,0">
                            <Border Width="36" Height="36"
                                   Background="{StaticResource AppPrimaryColor}"
                                   CornerRadius="6"
                                   Opacity="0.15"/>
                            <TextBlock Text="📄"
                                      FontSize="18"
                                      HorizontalAlignment="Center"
                                      VerticalAlignment="Center"/>
                        </Grid>
                        <StackPanel Grid.Column="1" VerticalAlignment="Center">
                            <TextBlock Text="Total Files" 
                                      FontSize="10" 
                                      Foreground="{StaticResource AppTextTertiaryColor}"
                                      FontFamily="Segoe UI"
                                      Margin="0,0,0,2"/>
                            <TextBlock Text="{Binding Files}" 
                                      FontSize="20" 
                                      FontWeight="Bold"
                                      FontFamily="Segoe UI"
                                      Foreground="{StaticResource AppTextColor}"/>
                        </StackPanel>
                    </Grid>
                </Border>

                <!-- Stats Grid (2 columns) -->
                <Grid Margin="0,0,0,10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="8"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Border Grid.Column="0"
                           Background="{StaticResource AppCardColor}"
                           CornerRadius="6"
                           Padding="10"
                           BorderBrush="{StaticResource AppBorderColor}"
                           BorderThickness="1">
                        <StackPanel>
                            <TextBlock Text="Total Size" 
                                      FontSize="10" 
                                      Foreground="{StaticResource AppTextTertiaryColor}"
                                      FontFamily="Segoe UI"
                                      Margin="0,0,0,3"/>
                            <TextBlock Text="{Binding TotalSize, Converter={StaticResource ByteToSizeConverter}}" 
                                      FontSize="14" 
                                      FontWeight="SemiBold"
                                      FontFamily="Consolas"
                                      Foreground="{StaticResource AppTextColor}"/>
                        </StackPanel>
                    </Border>
                    <Border Grid.Column="2"
                           Background="{StaticResource AppCardColor}"
                           CornerRadius="6"
                           Padding="10"
                           BorderBrush="{StaticResource AppBorderColor}"
                           BorderThickness="1">
                        <StackPanel>
                            <TextBlock Text="Safe Files" 
                                      FontSize="10" 
                                      Foreground="{StaticResource AppTextTertiaryColor}"
                                      FontFamily="Segoe UI"
                                      Margin="0,0,0,3"/>
                            <TextBlock Text="{Binding CleanFiles}" 
                                      FontSize="14" 
                                      FontWeight="SemiBold"
                                      FontFamily="Consolas"
                                      Foreground="{StaticResource AppStatusCleanColor}"/>
                        </StackPanel>
                    </Border>
                </Grid>

                <!-- Divider -->
                <Border Height="1" 
                       Background="{StaticResource AppDividerColor}" 
                       Margin="0,6,0,12"/>

                <!-- Additional Stats -->
                <StackPanel>
                    <!-- Status -->
                    <Grid Margin="0,0,0,10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0"
                                  Text="Status" 
                                  FontSize="12"
                                  Foreground="{StaticResource AppTextTertiaryColor}"
                                  FontFamily="Segoe UI"
                                  VerticalAlignment="Center"/>
                        <Grid Grid.Column="1">
                            <Border Background="{StaticResource AppStatusCleanColor}"
                                   CornerRadius="3"
                                   Padding="8,3"
                                   Opacity="0.2"/>
                            <TextBlock Text="{Binding Status}" 
                                      Foreground="{StaticResource AppStatusCleanColor}" 
                                      FontSize="11"
                                      FontWeight="SemiBold"
                                      FontFamily="Segoe UI"
                                      Padding="8,3"
                                      HorizontalAlignment="Right"/>
                        </Grid>
                    </Grid>

                    <!-- Package Size -->
                    <Grid Margin="0,0,0,10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0"
                                  Text="Package Size" 
                                  FontSize="12"
                                  Foreground="{StaticResource AppTextTertiaryColor}"
                                  FontFamily="Segoe UI"
                                  VerticalAlignment="Center"/>
                        <TextBlock Grid.Column="1"
                                  Text="{Binding EstimatedPackageSize}" 
                                  FontSize="13"
                                  FontWeight="SemiBold"
                                  FontFamily="Consolas"
                                  Foreground="{StaticResource AppTextColor}"
                                  HorizontalAlignment="Right"/>
                    </Grid>

                    <!-- Estimated Time -->
                    <Grid Margin="0,0,0,10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0"
                                  Text="Est. Time" 
                                  FontSize="12"
                                  Foreground="{StaticResource AppTextTertiaryColor}"
                                  FontFamily="Segoe UI"
                                  VerticalAlignment="Center"/>
                        <TextBlock Grid.Column="1"
                                  Text="{Binding EstimatedTime}" 
                                  FontSize="13"
                                  FontWeight="SemiBold"
                                  FontFamily="Consolas"
                                  Foreground="{StaticResource AppTextColor}"
                                  HorizontalAlignment="Right"/>
                    </Grid>

                    <!-- Requires Admin -->
                    <Grid Margin="0,0,0,10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0"
                                  Text="Requires Admin" 
                                  FontSize="12"
                                  Foreground="{StaticResource AppTextTertiaryColor}"
                                  FontFamily="Segoe UI"
                                  VerticalAlignment="Center"/>
                        <TextBlock Grid.Column="1"
                                  Text="{Binding RequiresAdminText}" 
                                  FontSize="13"
                                  FontWeight="SemiBold"
                                  FontFamily="Segoe UI"
                                  Foreground="{StaticResource AppTextColor}"
                                  HorizontalAlignment="Right"/>
                    </Grid>
                </StackPanel>

                <!-- Quick Tip Info Box -->
                <Border Background="{StaticResource AppCardColor}"
                       CornerRadius="6"
                       Padding="12"
                       Margin="0,6,0,0"
                       BorderBrush="{StaticResource AppPrimaryColor}"
                       BorderThickness="1"
                       Opacity="0.7">
                    <StackPanel>
                        <TextBlock Text="💡 Quick Tip" 
                                  FontSize="10" 
                                  FontWeight="SemiBold"
                                  Foreground="{StaticResource AppTextSecondaryColor}"
                                  FontFamily="Segoe UI"
                                  Margin="0,0,0,3"/>
                        <TextBlock Text="Use VirusTotal scanning to ensure all files are safe before packaging." 
                                  FontSize="10" 
                                  Foreground="{StaticResource AppTextTertiaryColor}"
                                  FontFamily="Segoe UI"
                                  TextWrapping="Wrap"
                                  LineHeight="14"/>
                    </StackPanel>
                </Border>
            </StackPanel>
        </Grid>
    </Border>
</UserControl>