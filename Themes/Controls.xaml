<!-- Themes/Controls.xaml -->
<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

	<!-- Input Control Style -->
	<Style x:Key="InputControlStyle" TargetType="Control">
		<Setter Property="Background" Value="{StaticResource AppPanelColor}"/>
		<Setter Property="Foreground" Value="{StaticResource AppTextColor}"/>
		<Setter Property="BorderBrush" Value="{StaticResource AppBorderColor}"/>
		<Setter Property="Padding" Value="10,8"/>
		<Setter Property="FontFamily" Value="Consolas"/>
		<Setter Property="FontSize" Value="13"/>
	</Style>

	<!-- Setting CheckBox Style -->
	<Style x:Key="SettingCheckBoxStyle" TargetType="CheckBox">
		<Setter Property="Foreground" Value="{StaticResource AppTextColor}"/>
		<Setter Property="Margin" Value="0,0,0,12"/>
		<Setter Property="VerticalAlignment" Value="Center"/>
	</Style>

	<!-- Setting Label Style -->
	<Style x:Key="SettingLabelStyle" TargetType="TextBlock">
		<Setter Property="Foreground" Value="{StaticResource AppTextSecondaryColor}"/>
		<Setter Property="FontSize" Value="12"/>
		<Setter Property="FontWeight" Value="Medium"/>
		<Setter Property="Margin" Value="0,0,0,8"/>
	</Style>

	<!-- Info Button Style -->
	<Style x:Key="InfoButtonStyle" TargetType="Button">
		<Setter Property="Content" Value="?"/>
		<Setter Property="Width" Value="20"/>
		<Setter Property="Height" Value="20"/>
		<Setter Property="FontSize" Value="11"/>
		<Setter Property="FontWeight" Value="Bold"/>
		<Setter Property="Background" Value="{StaticResource AppPanelHoverColor}"/>
		<Setter Property="Foreground" Value="{StaticResource AppTextColor}"/>
		<Setter Property="BorderThickness" Value="0"/>
		<Setter Property="Cursor" Value="Hand"/>
		<Setter Property="HorizontalAlignment" Value="Left"/>
		<Setter Property="Margin" Value="8,0,0,0"/>
		<Setter Property="ToolTipService.InitialShowDelay" Value="0"/>
		<Setter Property="Template">
			<Setter.Value>
				<ControlTemplate TargetType="Button">
					<Border Background="{TemplateBinding Background}"
                            CornerRadius="10"
                            BorderThickness="1"
                            BorderBrush="{StaticResource AppBorderLightColor}">
						<ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
					</Border>
				</ControlTemplate>
			</Setter.Value>
		</Setter>
	</Style>

	<!-- Modern ComboBox -->
	<Style x:Key="ModernComboBox" TargetType="ComboBox" BasedOn="{StaticResource InputControlStyle}">
	</Style>

	<!-- Modern Button (Win11Button) -->
	<Style x:Key="Win11Button" TargetType="Button">
		<Setter Property="Background" Value="{StaticResource AppPrimaryColor}"/>
		<Setter Property="Foreground" Value="{StaticResource AppTextColor}"/>
		<Setter Property="BorderThickness" Value="0"/>
		<Setter Property="Padding" Value="15,8"/>
		<Setter Property="Cursor" Value="Hand"/>
		<Setter Property="FontWeight" Value="SemiBold"/>
		<Setter Property="Template">
			<Setter.Value>
				<ControlTemplate TargetType="Button">
					<Border Background="{TemplateBinding Background}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="8">
						<ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
					</Border>
				</ControlTemplate>
			</Setter.Value>
		</Setter>
		<Style.Triggers>
			<Trigger Property="IsMouseOver" Value="True">
				<Setter Property="Background" Value="{StaticResource AppPrimaryHoverColor}"/>
				<Setter Property="Effect" Value="{StaticResource AppButtonShadow}"/>
			</Trigger>
			<Trigger Property="IsPressed" Value="True">
				<Setter Property="Background" Value="{StaticResource AppPrimaryPressedColor}"/>
				<Setter Property="RenderTransform">
					<Setter.Value>
						<ScaleTransform ScaleX="0.98" ScaleY="0.98"/>
					</Setter.Value>
				</Setter>
			</Trigger>
			<Trigger Property="IsEnabled" Value="False">
				<Setter Property="Opacity" Value="0.6"/>
			</Trigger>
		</Style.Triggers>
	</Style>

	<!-- Rounded ProgressBar Style -->
	<Style x:Key="RoundedProgressBarStyle" TargetType="ProgressBar">
		<Setter Property="Height" Value="6"/>
		<Setter Property="Template">
			<Setter.Value>
				<ControlTemplate TargetType="ProgressBar">
					<Grid Name="TemplateRoot" SnapsToDevicePixels="True">
						<Border x:Name="ProgressBarTrack"
                                Background="{TemplateBinding Background}"
                                CornerRadius="3"/>
						<Rectangle x:Name="PART_Track"/>
						<Decorator x:Name="PART_Indicator"
                                   HorizontalAlignment="Left"
                                   VerticalAlignment="Stretch">
							<Grid>
								<Border x:Name="Indicator"
                                        Background="{TemplateBinding Foreground}"
                                        CornerRadius="3"/>
							</Grid>
						</Decorator>
					</Grid>
				</ControlTemplate>
			</Setter.Value>
		</Setter>
	</Style>

    <!-- Global focus visual style -->
    <Style x:Key="FocusVisual">
        <Setter Property="Control.Template">
            <Setter.Value>
                <ControlTemplate>
                    <Rectangle Stroke="{StaticResource AppPrimaryColor}" 
                           StrokeThickness="2" 
                           Margin="-2"
                           StrokeDashArray="2 2"
                           SnapsToDevicePixels="true"/>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Apply to interactive controls -->
    <Style TargetType="Button" BasedOn="{StaticResource Win11Button}">
        <Setter Property="FocusVisualStyle" Value="{StaticResource FocusVisual}"/>
    </Style>
    <Style TargetType="TextBox">
        <Setter Property="FocusVisualStyle" Value="{StaticResource FocusVisual}"/>
    </Style>
    <Style TargetType="CheckBox">
        <Setter Property="FocusVisualStyle" Value="{StaticResource FocusVisual}"/>
    </Style>

</ResourceDictionary>